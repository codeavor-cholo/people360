(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["d58fc81a"],{"45fa":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{align:"left",dense:"",flat:"",color:"primary",icon:"arrow_back",label:"Back"}}),s("div",{staticClass:"text-justify"},[s("profile")],1)],1)},o=[],r={components:{profile:s("84a7").default}},n=r,i=s("2877"),c=Object(i["a"])(n,a,o,!1,null,null,null);e["default"]=c.exports},"84a7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut absolute-top"}},[s("q-page",{staticClass:"column flex",attrs:{padding:""}},[s("div",{staticClass:"text-center"},[s("q-avatar",{attrs:{size:"100px"}},[s("img",{staticClass:"absolute-right",attrs:{src:t.userDetails.photo}})]),s("p",{staticClass:"text-primary"},[t._v(t._s(t.userDetails.email))])],1),s("div",[s("h5",{staticClass:"text-grey-8"},[t._v("Profile Settings")]),s("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateProfilePhoto(e)}}},[s("div",{staticClass:"row q-mb-md q-px-sm"},[s("q-input",{staticClass:"col-12",attrs:{type:"file"},on:{change:t.uploadProfile},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-circular-progress",{staticClass:"text-light-blue q-ma-md",attrs:{"show-value":"",value:t.value,size:"30px",color:"primary"}}),""!==t.profile.photo?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.profile.photo=""}}}):t._e()]},proxy:!0}]),model:{value:t.profile.photo,callback:function(e){t.$set(t.profile,"photo",e)},expression:"profile.photo"}})],1),s("div",{staticClass:"row q-mb-md"},[s("q-space"),t.readytosubmit?s("q-btn",{attrs:{type:"submit",color:"primary",label:"Save Changes"}}):t._e()],1)])],1),s("div",[s("h5",{staticClass:"text-grey-8"},[t._v("Password Settings")]),s("q-form",{on:{submit:function(e){return e.preventDefault(),t.setChangePassword(e)}}},[s("div",{staticClass:"q-mb-md q-px-sm"},[s("div",{staticClass:"row q-mb-md"},[s("q-input",{ref:"new_password",staticClass:"col-12",attrs:{label:"New Password",type:t.isPwd?"password":"text",rules:[function(t){return t.length>=6||"Please enter atleast 6 characters"}],"lazy-rules":""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.account.new_password,callback:function(e){t.$set(t.account,"new_password",e)},expression:"account.new_password"}}),s("q-input",{ref:"comfirm_password",staticClass:"col-12",attrs:{label:"Confirm Password",type:t.isPwd?"password":"text",rules:[function(t){return t.length>=6||"Please enter atleast 6 characters"}],"lazy-rules":""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.account.confirm_password,callback:function(e){t.$set(t.account,"confirm_password",e)},expression:"account.confirm_password"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("q-space"),s("q-btn",{attrs:{type:"submit",color:"primary",label:"Save Changes"}})],1)])],1)])],1)},o=[],r=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("7f7f"),s("c47a")),n=s.n(r),i=s("2f62"),c=s("fc1b");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var p={data:function(){return{value:null,readytosubmit:!1,profilePhoto:{},isPwd:!0,account:{new_password:"",confirm_password:""},profile:{photo:[]}}},methods:u({},Object(i["b"])("changepassword",["changePassword"]),{},Object(i["b"])("changeprofile",["changeProfile"]),{setChangePassword:function(){this.account.new_password!==this.account.confirm_password?this.$q.dialog({message:"Password do not match"}):this.changePassword(this.account)},uploadProfile:function(t){var e=this;if(t.target.files[0]){var s=t.target.files[0],a=c["c"].storage().ref("profile/"+Math.random()+"_"+s.name),o=a.put(s);o.on("state_changed",(function(t){var s=t.bytesTransferred/t.totalBytes*100;e.value=s}),(function(t){}),(function(){o.snapshot.ref.getDownloadURL().then((function(t){e.profile.photo=t,e.readytosubmit=!0}))}))}},updateProfilePhoto:function(){this.changeProfile(this.profile),this.value=null,this.readytosubmit=!1}}),computed:u({},Object(i["d"])("auth",["loggedIn","userDetails"])),mounted:function(){}},f=p,d=s("2877"),m=Object(d["a"])(f,a,o,!1,null,null,null);e["default"]=m.exports}}]);