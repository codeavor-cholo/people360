(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["0af479dc"],{"39e5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[n("inspector-schedule"),e._v("\n  --\x3e\n  ")],1)},s=[],a={components:{"inspector-schedule":n("ea4f").default}},c=a,o=n("2877"),d=Object(o["a"])(c,r,s,!1,null,null,null);t["default"]=d.exports},"53fb":function(e,t,n){"use strict";var r=n("7dcd"),s=n.n(r);s.a},"7dcd":function(e,t,n){},ea4f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"q-mt-md"},[n("div",{},[n("div",{},[n("q-markup-table",[n("thead",[n("tr",[n("th",{attrs:{colspan:"10"}},[n("div",{staticClass:"row no-wrap items-center"},[n("div",{staticClass:"text-h5 text-primary"},[e._v("Inspector Schedules")])])])]),e.setAdmin||"Inspector"==e.userDetails.roles?n("FullCalendar",{ref:"fullCalendar",staticClass:"q-pa-md",attrs:{plugins:e.calendarPlugins,header:{left:"prev,next today",center:"title",right:"timeGridWeek,listWeek"},selectable:"true",events:e.inspectorSchedules,defaultView:"timeGridWeek","event-color":e.getEventColor,now:e.today,view:e.type,type:e.type,title:e.title,hiddenDays:e.hiddenDays,weekends:e.calendarWeekends},on:{select:e.handleSelect,eventClick:e.handleClick},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)])],1)]),n("q-dialog",{model:{value:e.showAddInspectorSched,callback:function(t){e.showAddInspectorSched=t},expression:"showAddInspectorSched"}},[n("add-inspector-schedule",{attrs:{start:e.start},on:{close:function(t){e.showAddInspectorSched=!1}}})],1)],1)},s=[],a=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),c=n.n(a),o=n("2bdd"),d=n("2f62"),l=n("dc09"),i=n("88e1"),u=n("a7c0"),h=n("19bc"),f=n("f88c"),p=n("fc1b");n("795d"),n("a435"),n("1599");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={firestore:function(){return{inspectorSchedules:p["e"].collection("inspectorSchedules")}},components:{FullCalendar:l["a"],"add-event":n("6fae").default,"show-event":n("fc18").default,"edit-event":n("b78f").default,"calendar-table":n("efe6c").default,"add-inspector-schedule":n("3a1a").default},data:function(){var e;return e={showAddInspectorSched:!1,start:"",end:"",clientReservation:{},admin:!1,hiddenDays:[0],medium:!1,showEditEvent:!1,showEventDetails:!1,calendarPlugins:[i["d"],u["a"],h["a"],f["a"]],calendarWeekends:!0,today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),date:"",type:"week",title:null,details:null},c()(e,"start",null),c()(e,"end",null),c()(e,"color","#1976D2"),c()(e,"currentlyEditing",null),c()(e,"selectedEvent",{}),c()(e,"selectedElement",null),c()(e,"selectedOpen",!1),c()(e,"extendedProps",{}),c()(e,"events",[]),c()(e,"dialog",!1),c()(e,"event",{title:"",details:"",start:"",end:"",color:"",id:""}),e},methods:{handleClick:function(e){this.showEventDetails=!0,this.event.title=e.event.title,this.extendedProps=e.event.extendedProps,this.event.id=e.event.id,this.event.color=e.event.borderColor},handleSelect:function(e){console.log(e),this.showAddInspectorSched=!0,this.start=e.startStr,this.end=e.endStr},getEventColor:function(e){return e.color}},computed:m({},Object(d["d"])("auth",["loggedIn","userDetails","setAdmin"]),{},Object(d["d"])("storeevents",["eventDownloaded"]),{monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}}),mounted:function(){var e=this,t=p["c"].auth().currentUser;t&&t.getIdTokenResult().then((function(n){var r=n.claims.admin;1==r?(e.admin=!0,e.$store.commit("storeevents/setEventDownloaded",!0)):e.$binding("clientReservation",p["e"].collection("preproposals").where("id","==",t.uid)).then((function(e){console.log(e)})).catch((function(e){Object(o["a"])(e.message)}))}))},created:function(){var e=this,t=p["c"].auth().currentUser;t&&t.getIdTokenResult().then((function(t){var n=t.claims.admin;1==n&&(e.admin=!0)}))}},w=b,g=(n("53fb"),n("2877")),O=Object(g["a"])(w,r,s,!1,null,null,null);t["default"]=O.exports}}]);