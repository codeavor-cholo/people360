(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["9bce9298"],{"018c":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",{staticStyle:{width:"700px","max-width":"90vw"}},[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"text-h6"},[e._v("Edit Services")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),i("q-form",{on:{submit:function(t){return t.preventDefault(),e.fbEditServices(t)}}},[i("q-card-section",{staticClass:"addusers"},[i("q-select",{staticClass:"col",attrs:{rules:[function(e){return!!e||"Field is required"}],label:"Equipment Type",options:e.optionCategories},scopedSlots:e._u([{key:"append",fn:function(){return[e.service.type?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"}}):e._e()]},proxy:!0}]),model:{value:e.service.type,callback:function(t){e.$set(e.service,"type",t)},expression:"service.type"}}),i("q-input",{ref:"name",staticClass:"col",attrs:{rules:[function(e){return!!e||"Field is required"}],label:"Equipment"},scopedSlots:e._u([{key:"append",fn:function(){return[e.service.equipment?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"}}):e._e()]},proxy:!0}]),model:{value:e.service.equipment,callback:function(t){e.$set(e.service,"equipment",t)},expression:"service.equipment"}}),i("q-input",{ref:"name",staticClass:"col",attrs:{rules:[function(e){return!!e||"Field is required"}],label:"Price for old client"},scopedSlots:e._u([{key:"append",fn:function(){return[e.service.oldClientPrice?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"}}):e._e()]},proxy:!0}]),model:{value:e.service.oldClientPrice,callback:function(t){e.$set(e.service,"oldClientPrice",t)},expression:"service.oldClientPrice"}}),i("q-input",{ref:"name",staticClass:"col",attrs:{rules:[function(e){return!!e||"Field is required"}],label:"Price for new client"},scopedSlots:e._u([{key:"append",fn:function(){return[e.service.newClientPrice?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"}}):e._e()]},proxy:!0}]),model:{value:e.service.newClientPrice,callback:function(t){e.$set(e.service,"newClientPrice",t)},expression:"service.newClientPrice"}}),i("q-input",{staticClass:"col-12",attrs:{type:"file"},on:{change:e.uploadPhoto},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-circular-progress",{staticClass:"text-light-blue q-ma-md",attrs:{"show-value":"",value:e.value,size:"30px",color:"primary"}}),""!==e.service.photo?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.service.photo=""}}}):e._e()]},proxy:!0}]),model:{value:e.service.photo,callback:function(t){e.$set(e.service,"photo",t)},expression:"service.photo"}})],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("q-btn",{attrs:{type:"submit",icon:"save",label:"Save",color:"primary"}})],1)],1)],1)},c=[],n=(i("7f7f"),i("fc1b")),o={props:["service","id"],firestore:function(){return{services:n["e"].collection("services"),equipmentCategories:n["e"].collection("equipmentCategories")}},data:function(){return{optionCategories:[],value:null}},methods:{fbEditServices:function(){var e=this;this.$q.loading.show(),this.service.id=n["c"].auth().currentUser.uid,this.$firestore.services.doc(this.id).update(this.service).then((function(t){console.log(t),e.$q.loading.hide(),e.showEditServices=!1})).catch((function(t){console.log(t),e.$q.loading.hide(),e.showEditServices=!1})),this.$emit("close"),this.readytosubmit=!1},uploadPhoto:function(e){var t=this;if(e.target.files[0]){var i=e.target.files[0],s=n["c"].storage().ref("services/"+Math.random()+"_"+i.name),c=s.put(i);c.on("state_changed",(function(e){var i=e.bytesTransferred/e.totalBytes*100;t.value=i}),(function(e){}),(function(){c.snapshot.ref.getDownloadURL().then((function(e){console.log(e),t.service.photo=e}))}))}}},mounted:function(){var e=[],t=n["e"].collection("equipmentCategories");t.get().then((function(t){t.forEach((function(t){e.push(t.data().type)}))})).catch((function(e){console.log("Error getting documents",e)}));this.optionCategories=e}},r=o,a=i("2877"),l=Object(a["a"])(r,s,c,!1,null,null,null);t["default"]=l.exports},"1a53":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{attrs:{padding:""}},[e.admin?i("services-table"):e._e(),e.admin?i("q-page-sticky",{staticClass:"all-pointer-events",attrs:{offset:[18,18]}},[i("q-fab",{attrs:{icon:"add",direction:"up",color:"primary"}},[i("q-fab-action",{attrs:{color:"primary",icon:"build"},on:{click:function(t){e.showAddServices=!0}}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[e._v("Add Equipment")])],1),i("q-fab-action",{attrs:{color:"primary",icon:"note_add"},on:{click:function(t){e.showAddEquipment=!0}}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[e._v("Add Equipment Type")])],1)],1)],1):e._e(),i("q-dialog",{model:{value:e.showAddServices,callback:function(t){e.showAddServices=t},expression:"showAddServices"}},[i("add-services",{on:{close:function(t){e.showAddServices=!1}}})],1),i("q-dialog",{model:{value:e.showAddEquipment,callback:function(t){e.showAddEquipment=t},expression:"showAddEquipment"}},[i("add-equipment-category",{on:{close:function(t){e.showAddEquipment=!1}}})],1)],1)},c=[],n=i("fc1b"),o={data:function(){return{admin:!1,showAddServices:!1,showAddEquipment:!1}},components:{"services-table":i("ac6a1").default,"add-services":i("8f01").default,"add-equipment-category":i("d2ba").default},mounted:function(){var e=this,t=n["c"].auth().currentUser;t&&t.getIdTokenResult().then((function(t){var i=t.claims.admin;1==i&&(e.admin=!0)}))}},r=o,a=i("2877"),l=Object(a["a"])(r,s,c,!1,null,null,null);t["default"]=l.exports},7430:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",{staticStyle:{width:"900px","max-width":"90vw"}},[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"text-h6"},[e._v("Edit Checklist")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),i("q-form",{on:{submit:function(t){return t.preventDefault(),e.fbEditChecklist(t)}}},[i("q-card-section",[i("div",{staticClass:"row"},e._l(e.checklist.check,(function(t,s){return i("div",{key:s,staticClass:"col-6"},[i("q-input",{ref:"name",refInFor:!0,staticClass:"q-pa-xs",attrs:{rules:[function(e){return!!e||"Field is required"}],label:"Checklist"},scopedSlots:e._u([{key:"append",fn:function(){return[s>0?i("q-btn",{staticClass:"q-mt-md",attrs:{flat:"",dense:"",round:"",icon:"close"},on:{click:function(t){return e.removeCheck(s)}}}):e._e()]},proxy:!0}],null,!0),model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"name.name"}})],1)})),0),i("q-btn",{staticClass:"q-mt-md",attrs:{round:"",icon:"add"},on:{click:e.addCheck}})],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("q-btn",{attrs:{type:"submit",icon:"add",label:"Edit Checklist",color:"primary"}})],1)],1)],1)},c=[],n=(i("f751"),i("4db1")),o=i.n(n),r=i("fc1b"),a={firestore:function(){return{checklists:r["e"].collection("checklists"),services:r["e"].collection("services")}},props:["checklist"],data:function(){return{checklistData:{check:{}},checklistarr:[{name:"",status:!1}]}},computed:{toObject:function(){return Object.assign.apply(Object,[{}].concat(o()(this.checklistarr)))}},methods:{addCheck:function(){this.checklist.check.push({name:"",status:!1})},removeCheck:function(e){console.log(e),this.checklist.check.splice(e,1)},fbEditChecklist:function(){var e=this;this.checklistData.check=this.checklist.check,this.$q.loading.show(),this.$firestore.services.doc(this.checklist.id).update(this.checklistData).then((function(t){console.log(t),e.$q.loading.hide()})).catch((function(t){console.log(t),e.$q.loading.hide()})),this.$emit("close")}}},l=a,d=i("2877"),u=Object(d["a"])(l,s,c,!1,null,null,null);t["default"]=u.exports},ac6a1:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"q-mt-md"},[i("div",{},[i("div",{},[i("q-table",{attrs:{filter:e.filter,title:"Equipment Category Table",color:"primary",data:e.services,columns:e.columns,"row-key":"id"},scopedSlots:e._u([{key:"top-right",fn:function(){return[i("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[i("q-tr",{attrs:{props:t}},[i("q-td",{key:"type",attrs:{props:t}},[e._v(e._s(t.row.type))]),i("q-td",{key:"oldClientPrice",attrs:{props:t}},[e._v(e._s(e._f("currency")(t.row.oldClientPrice,"₱",2,{decimalSeparator:"."})))]),i("q-td",{key:"newClientPrice",attrs:{props:t}},[e._v(e._s(e._f("currency")(t.row.newClientPrice,"₱",2,{decimalSeparator:"."})))]),i("q-td",{key:"equipment",attrs:{props:t}},[e._v(e._s(t.row.equipment))]),i("q-td",{key:"photo",attrs:{props:t}},[i("q-img",{attrs:{avatar:"",src:t.row.photo}})],1),i("q-td",[i("q-btn",{attrs:{round:"",color:"primary",flat:"",dense:"",icon:"edit"},on:{click:function(i){return e.showEditServiceModal(t.row)}}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[e._v("Edit")])],1),t.row.check?e._e():i("q-btn",{attrs:{round:"",color:"primary",flat:"",dense:"",icon:"add"},on:{click:function(i){return e.showAddChecklistModal(t.row)}}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[e._v("Add Checklist")])],1),t.row.check?i("q-btn",{attrs:{round:"",color:"primary",flat:"",dense:"",icon:"remove_red_eye"},on:{click:function(i){return e.showEditChecklistModal(t.row)}}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[e._v("View Checklist")])],1):e._e()],1)],1)]}}])})],1)]),i("q-dialog",{model:{value:e.showEditServices,callback:function(t){e.showEditServices=t},expression:"showEditServices"}},[i("edit-services",{attrs:{service:e.service,id:e.id},on:{close:function(t){e.showEditServices=!1}}})],1),i("q-dialog",{model:{value:e.showAddChecklist,callback:function(t){e.showAddChecklist=t},expression:"showAddChecklist"}},[i("add-checklist",{attrs:{checklist:e.checklist},on:{close:function(t){e.showAddChecklist=!1}}})],1),i("q-dialog",{model:{value:e.showEditChecklist,callback:function(t){e.showEditChecklist=t},expression:"showEditChecklist"}},[i("edit-checklist",{attrs:{checklist:e.checklist},on:{close:function(t){e.showEditChecklist=!1}}})],1)],1)},c=[],n=i("fc1b"),o={firestore:function(){return{services:n["e"].collection("services")}},data:function(){return{filter:"",columns:[{name:"type",align:"left",label:"Type",sortable:!0,field:"type"},{name:"oldClientPrice",align:"left",label:"Old Client Price",sortable:!0,field:"oldClientPrice"},{name:"newClientPrice",align:"left",label:"New Client Price",sortable:!0,field:"newClientPrice"},{name:"equipment",align:"left",label:"Equipment",sortable:!0,field:"equipment"},{name:"photo",align:"left",label:"Photo",sortable:!0,field:"photo"},{align:"left",label:"Action"}],showEditServices:!1,showAddChecklist:!1,showEditChecklist:!1,key:{},id:"",checklist:{},service:{id:"",name:"",equipment:"",personCount:"",dayCount:"",price:"",available:"true"}}},methods:{showEditServiceModal:function(e){this.showEditServices=!0,this.service=e,this.id=e.id},showAddChecklistModal:function(e){this.showAddChecklist=!0,this.checklist=e},showEditChecklistModal:function(e){this.showEditChecklist=!0,this.checklist=e,console.log(e)}},components:{"edit-services":i("018c").default,"add-checklist":i("b471").default,"edit-checklist":i("7430").default}},r=o,a=i("2877"),l=Object(a["a"])(r,s,c,!1,null,null,null);t["default"]=l.exports},b471:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",{staticStyle:{width:"900px","max-width":"90vw"}},[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"text-h6"},[e._v("Add Checklist")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),i("q-form",{on:{submit:function(t){return t.preventDefault(),e.addChecklist(t)}}},[i("q-card-section",[i("div",{staticClass:"row"},e._l(e.checklistarr,(function(t,s){return i("div",{key:s,staticClass:"col-6"},[i("q-input",{ref:"name",refInFor:!0,staticClass:"q-pa-xs",attrs:{rules:[function(e){return!!e||"Field is required"}],label:"Checklist"},scopedSlots:e._u([{key:"append",fn:function(){return[s>0?i("q-btn",{staticClass:"q-mt-md",attrs:{flat:"",dense:"",round:"",icon:"close"},on:{click:function(t){return e.removeCheck(s)}}}):e._e()]},proxy:!0}],null,!0),model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"name.name"}})],1)})),0),i("q-btn",{staticClass:"q-mt-md",attrs:{round:"",icon:"add"},on:{click:e.addCheck}})],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("q-btn",{attrs:{type:"submit",icon:"add",label:"Add Checklist",color:"primary"}})],1)],1)],1)},c=[],n=(i("f751"),i("4db1")),o=i.n(n),r=i("fc1b"),a={firestore:function(){return{checklists:r["e"].collection("checklists"),services:r["e"].collection("services")}},props:["checklist"],data:function(){return{checklistData:{check:{}},checklistarr:[{name:"",status:!1}]}},computed:{toObject:function(){return Object.assign.apply(Object,[{}].concat(o()(this.checklistarr)))}},methods:{addCheck:function(){this.checklistarr.push({name:"",status:!1})},removeCheck:function(e){console.log(e),this.checklistarr.splice(e,1)},addChecklist:function(){var e=this;this.checklistData.equipment=this.checklist.equipment,this.checklistData.id=this.checklist.id,this.checklistData.check=this.checklistarr,this.$firestore.services.doc(this.checklist.id).update(this.checklistData).then((function(t){console.log(t),e.$q.loading.hide()})).catch((function(t){console.log(t),e.$q.loading.hide()})),this.$emit("close")}}},l=a,d=i("2877"),u=Object(d["a"])(l,s,c,!1,null,null,null);t["default"]=u.exports}}]);