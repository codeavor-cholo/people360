(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["25780f92"],{"815c":function(t,o,i){"use strict";i.r(o);var e=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("q-page",{attrs:{padding:""}},[t.setAdmin?i("inspector-position-table"):t._e(),t.setAdmin?i("q-page-sticky",{staticClass:"all-pointer-events",attrs:{offset:[18,18]}},[i("q-fab",{attrs:{icon:"add",direction:"up",color:"primary"}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[t._v("Add Position")]),i("q-fab-action",{attrs:{color:"primary",icon:"build"},on:{click:function(o){t.showAddPosition=!0}}})],1)],1):t._e(),i("q-dialog",{model:{value:t.showAddPosition,callback:function(o){t.showAddPosition=o},expression:"showAddPosition"}},[i("add-inspector-position",{on:{close:function(o){t.showAddPosition=!1}}})],1)],1)},n=[],s=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c47a")),r=i.n(s),a=i("fc1b"),c=i("2f62");function l(t,o){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.push.apply(i,e)}return i}function d(t){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?l(Object(i),!0).forEach((function(o){r()(t,o,i[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))}))}return t}var p={data:function(){return{admin:!1,showAddPosition:!1}},components:{"inspector-position-table":i("cd37").default,"add-inspector-position":i("b77a").default},computed:d({},Object(c["d"])("auth",["loggedIn","userDetails","setAdmin"])),mounted:function(){var t=this,o=a["c"].auth().currentUser;o&&o.getIdTokenResult().then((function(o){var i=o.claims.admin;1==i&&(t.admin=!0)}))}},u=p,f=i("2877"),b=Object(f["a"])(u,e,n,!1,null,null,null);o["default"]=b.exports},cd37:function(t,o,i){"use strict";i.r(o);var e=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("q-page",{staticClass:"q-mt-md"},[i("div",{},[i("div",{},[i("q-table",{attrs:{filter:t.filter,title:"Inspector Position Table",color:"primary",data:t.positions,columns:t.columns,"row-key":"id"},scopedSlots:t._u([{key:"top-right",fn:function(){return[i("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(o){t.filter=o},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(o){return[i("q-tr",{attrs:{props:o}},[i("q-td",{key:"positionName",attrs:{props:o}},[t._v(t._s(o.row.positionName))]),i("q-td",[i("q-btn",{attrs:{round:"",color:"primary",flat:"",dense:"",icon:"edit"},on:{click:function(i){return t.showEditPositionModal(o.row)}}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[t._v("Edit")])],1)],1)],1)]}}])})],1)]),i("q-dialog",{model:{value:t.showEditPosition,callback:function(o){t.showEditPosition=o},expression:"showEditPosition"}},[i("edit-positon",{attrs:{position:t.position,id:t.id},on:{close:function(o){t.showEditPosition=!1}}})],1)],1)},n=[],s=i("fc1b"),r={firestore:function(){return{positions:s["e"].collection("positions")}},data:function(){return{showEditPosition:!1,id:"",position:{positionName:""},filter:"",columns:[{name:"positionName",align:"left",label:"Position Name",sortable:!0,field:"positionName"},{align:"left",label:"Action"}]}},methods:{showEditPositionModal:function(t){this.showEditPosition=!0,this.position=t,this.id=t.id}},components:{"edit-positon":i("ce8f").default}},a=r,c=i("2877"),l=Object(c["a"])(a,e,n,!1,null,null,null);o["default"]=l.exports},ce8f:function(t,o,i){"use strict";i.r(o);var e=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("q-card",{staticStyle:{width:"700px","max-width":"90vw"}},[i("q-form",{on:{submit:function(o){return o.preventDefault(),t.fbEditPosition(o)}}},[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"text-h6"},[t._v("Edit Position")]),i("q-space"),i("div",[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1)],1),i("q-card-section",{staticClass:"q-pt-none"},[i("q-input",{ref:"name",staticClass:"col",attrs:{rules:[function(t){return!!t||"Field is required"}],label:"Position"},scopedSlots:t._u([{key:"append",fn:function(){return[t.position.positionName?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"}}):t._e()]},proxy:!0}]),model:{value:t.position.positionName,callback:function(o){t.$set(t.position,"positionName",o)},expression:"position.positionName"}})],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("q-btn",{attrs:{icon:"save",color:"primary",type:"submit",label:"Save"}})],1)],1)],1)},n=[],s=i("fc1b"),r={props:["position","id"],firestore:function(){return{positions:s["e"].collection("positions")}},methods:{fbEditPosition:function(){var t=this;this.$q.loading.show(),this.$firestore.positions.doc(this.id).update(this.position).then((function(o){console.log(o),t.$q.loading.hide(),t.showEditPosition=!1})).catch((function(o){console.log(o),t.$q.loading.hide(),t.showEditPosition=!1})),this.$emit("close")}}},a=r,c=i("2877"),l=Object(c["a"])(a,e,n,!1,null,null,null);o["default"]=l.exports}}]);