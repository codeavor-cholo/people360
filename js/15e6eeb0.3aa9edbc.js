(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["15e6eeb0"],{1597:function(t,e,s){"use strict";var a=s("9204"),i=s.n(a);i.a},"2d80":function(t,e,s){t.exports=s.p+"img/P-360logo.29949a24.png"},9204:function(t,e,s){},f241:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh LpR fFf"}},[t.loggedIn?a("q-header",{staticClass:"header",attrs:{elevated:""}},[a("q-toolbar",[t.loggedIn&&!this.$route.params.id?a("q-btn",{staticClass:"hamburger",attrs:{flat:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}):t._e(),t.loggedIn&&this.$route.params.id?a("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",icon:"arrow_back","aria-label":"Menu"}}):t._e(),t.loggedIn?a("q-toolbar-title",{staticClass:"text-center"},[a("q-img",{staticClass:"logo",attrs:{src:s("2d80")}}),t._v("\n        "+t._s(t.title)+"\n      ")],1):t._e(),t.setAdmin&&"Inspector"!=!t.userDetails.roles?t._e():a("q-btn",{attrs:{round:"",flat:"",icon:"shopping_cart"},on:{click:t.showMyCart}},[a("q-menu",{attrs:{offset:[40,10]}},[a("q-card",{staticClass:"my-card",attrs:{flat:""}},[t.cart.length?[a("q-card-section",{staticClass:"bg-white text-primary"},[a("div",{staticClass:"text-subtitle2"},[a("q-list",t._l(t.cart,(function(e){return a("q-item",{key:e.id},[a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",[a("img",{attrs:{src:e.service_photo}})])],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.service_name))]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                          "+t._s(e.service_equipment)+"\n                        ")])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-badge",[t._v("\n                          "+t._s(t._f("currency")(e.service_price,"₱",2,{decimalSeparator:"."}))+"\n                        ")]),a("q-item-label",{attrs:{caption:""}},[t._v("Qty: "+t._s(e.service_quantity))]),a("q-btn",{attrs:{round:"",size:"8px",icon:"clear",flat:""},on:{click:function(s){return t.removeToCart(e)}}})],1)],1)})),1)],1)])]:[a("div",{staticClass:"text-center q-pa-md"},[t._v("No items on cart")])],a("q-separator"),a("q-card-actions",{staticClass:"q-pa-xs",attrs:{align:"right"}},[a("q-space"),a("q-item-label",{attrs:{caption:""}},[t._v("Total  ")]),a("q-badge",[t._v("\n                "+t._s(t._f("currency")(t.totalPrice,"₱",2,{decimalSeparator:"."}))+"\n              ")]),a("q-space"),a("q-btn",{attrs:{to:"/checkout",flat:"",color:"primary",label:"Checkout"}})],1)],2)],1)],1),t.loggedIn?a("q-btn-dropdown",{attrs:{round:"",flat:"",push:"","dropdown-icon":"more_vert"}},[a("div",{staticClass:"row no-wrap q-pa-sm"},[a("div",{staticClass:"column"},[a("div",{staticClass:"text-h6"},[t._v("Settings")]),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[a("q-item-section",[a("q-item-label",[t._v("Show 12 hour time format")])],1),a("q-item-section",{attrs:{side:""}},[a("q-toggle",{attrs:{color:"blue"},model:{value:t.show12HourFormat,callback:function(e){t.show12HourFormat=e},expression:"show12HourFormat"}})],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[a("q-item-section",[a("q-item-label",[t._v("Show tasks in one list")])],1),a("q-item-section",{attrs:{side:""}},[a("q-toggle",{attrs:{color:"blue"},model:{value:t.showTaskInOneList,callback:function(e){t.showTaskInOneList=e},expression:"showTaskInOneList"}})],1)],1)],1),a("q-separator",{staticClass:"q-mr-xs",attrs:{vertical:"",inset:""}}),a("div",{staticClass:"column items-center"},[a("q-avatar",{attrs:{size:"72px"}},[a("img",{attrs:{src:t.userDetails.photo}})]),a("div",{staticClass:"text-subtitle1 q-mt-md q-mb-xs"},[t._v(t._s(t.userDetails.email))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Logout",size:"sm",push:"",icon:"power_settings_new"},on:{click:t.logoutUser}})],1)],1)]):t._e()],1)],1):t._e(),t.loggedIn&&!this.$route.params.id?a("q-drawer",{staticClass:"side-drawer",attrs:{width:260,breakpoint:767,bordered:"","content-class":"bg-grey-2"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-list",[a("q-item-label",{attrs:{header:""}},[t._v("Navigation")]),t.setAdmin?a("q-expansion-item",{attrs:{label:"File Maintenance"}},[t.setAdmin?a("q-expansion-item",{attrs:{icon:"how_to_reg",label:"Inspectors"}},[t.setAdmin?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/inspectors",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"how_to_reg"}})],1),a("q-item-section",[a("q-item-label",[t._v("Inspectors")])],1)],1):t._e(),t.setAdmin?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/positions",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"playlist_add_check"}})],1),a("q-item-section",[a("q-item-label",[t._v("Positions")])],1)],1):t._e(),t.setAdmin?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/special-skills",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"gavel"}})],1),a("q-item-section",[a("q-item-label",[t._v("Special Skills")])],1)],1):t._e()],1):t._e(),t.setAdmin?a("q-expansion-item",{attrs:{icon:"build",label:"Equipments"}},[t.setAdmin?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/equipment-category",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"category"}})],1),a("q-item-section",[a("q-item-label",[t._v("Equipment Category")])],1)],1):t._e(),t.setAdmin?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/list-services",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"format_list_bulleted"}})],1),a("q-item-section",[a("q-item-label",[t._v("List of Equipments")])],1)],1):t._e()],1):t._e(),t.setAdmin?a("q-item",{attrs:{to:"/mobilization",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"local_shipping"}})],1),a("q-item-section",[a("q-item-label",[t._v("Mobilization Fee")])],1)],1):t._e(),t.setAdmin?a("q-item",{attrs:{to:"/users",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"people"}})],1),a("q-item-section",[a("q-item-label",[t._v("Manage User")])],1)],1):t._e(),t.setAdmin?a("q-item",{attrs:{to:"/scheduling",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"schedule"}})],1),a("q-item-section",[a("q-item-label",[t._v("Scheduling")])],1)],1):t._e(),t.setAdmin?a("q-item",{attrs:{to:"/checklists",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"playlist_add_check"}})],1),a("q-item-section",[a("q-item-label",[t._v("Checklists")])],1)],1):t._e(),t.setAdmin?a("q-expansion-item",{attrs:{icon:"description",label:"Certificate"}},[t.setAdmin?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/print-certificates",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"print"}})],1),a("q-item-section",[a("q-item-label",[t._v("For Printing Certificates")])],1)],1):t._e(),t.setAdmin?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/certificates",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"description"}})],1),a("q-item-section",[a("q-item-label",[t._v("Certificate Layout")])],1)],1):t._e(),t.setAdmin?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/certificate-builder",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"post_add"}})],1),a("q-item-section",[a("q-item-label",[t._v("Certificate Builder")])],1)],1):t._e()],1):t._e(),t.setAdmin?a("q-item",{attrs:{to:"/billing",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"credit_card"}})],1),a("q-item-section",[a("q-item-label",[t._v("Billing")])],1)],1):t._e()],1):t._e(),"old"==t.userDetails.roles||"new"==t.userDetails.roles?a("q-item",{attrs:{to:"/services",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"build"}})],1),a("q-item-section",[a("q-item-label",[t._v("Equipments")])],1)],1):t._e(),a("q-item-label",{attrs:{header:""}},[t._v("Others")]),t.setAdmin||"Inspector"==t.userDetails.roles?a("q-expansion-item",{attrs:{icon:"assessment",label:"Projects"}},[t.setAdmin||"Inspector"==t.userDetails.roles?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/pending-projects",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"flag"}})],1),a("q-item-section",[t.setAdmin||"Inspector"==t.userDetails.roles?a("q-item-label",[t._v("Pending Projects")]):t._e()],1)],1):t._e(),t.setAdmin||"Inspector"==t.userDetails.roles?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/approved-projects",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"thumb_up_alt"}})],1),a("q-item-section",[t.setAdmin||"Inspector"==t.userDetails.roles?a("q-item-label",[t._v("Approved Projects")]):t._e()],1)],1):t._e(),t.setAdmin||"Inspector"==t.userDetails.roles?a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/on-going",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"assignment_turned_in"}})],1),a("q-item-section",[t.setAdmin||"Inspector"==t.userDetails.roles?a("q-item-label",[t._v("On Going Projects")]):t._e()],1)],1):t._e()],1):t._e(),t.setAdmin||"Inspector"==t.userDetails.roles?a("q-item",{attrs:{to:"/reservation",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"calendar_today"}})],1),a("q-item-section",[t.setAdmin||"Inspector"==t.userDetails.roles?a("q-item-label",[t._v("Project Calendar")]):t._e()],1)],1):t._e(),"old"==t.userDetails.roles||"new"==t.userDetails.roles?a("q-item",{attrs:{to:"/approved-projects",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"assessment"}})],1),a("q-item-section",["old"==t.userDetails.roles||"new"==t.userDetails.roles?a("q-item-label",[t._v("My Projects")]):t._e()],1)],1):t._e(),t._l(t.navs,(function(e){return a("q-item",{key:e.label,attrs:{to:e.to,exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1)],1)})),a("q-expansion-item",{attrs:{icon:"settings",label:"Settings"}},[a("q-item",{staticClass:"q-pl-xl",attrs:{to:"/settings",exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"settings"}})],1),a("q-item-section",[a("q-item-label",[t._v("General Settings")])],1)],1)],1)],2)],1):t._e(),a("q-page-container",[a("router-view")],1)],1)},i=[],r=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("7f7f"),s("6762"),s("2fdb"),s("c47a")),n=s.n(r),o=(s("1157"),s("2bdd")),c=s("2f62"),l=s("fc1b"),m=s("e883");function q(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?q(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):q(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"MyLayout",mixins:[m["a"]],props:["tab"],firestore:function(){return{preproposals:l["e"].collection("preproposals")}},data:function(){return{admin:!1,profilePhoto:{},clientPreproposal:{},chat:"",leftDrawerOpen:this.$q.platform.is.desktop,navs:[{label:"Chat",icon:"chat_bubble",to:"/contacts"}]}},computed:p({},Object(c["d"])("auth",["loggedIn","userDetails","setAdmin"]),{},Object(c["d"])("storeservices",["cart"]),{},Object(c["c"])("storesettings",["settings"]),{},Object(c["c"])("storeservices",["totalPrice"]),{show12HourFormat:{get:function(){return this.settings.show12HourFormat},set:function(t){this.setshow12HourFormat(t)}},showTaskInOneList:{get:function(){return this.settings.showTaskInOneList},set:function(t){this.setshowTaskInOneList(t)}},title:function(){var t=this.$route.fullPath;return"/"==t?"People 360":t.includes("/chat")?this.otherUserDetails.name:"/auth"==t?"Login":"/settings"==t?"Settings":"/contacts"==t?"Contacts":"People 360"}}),methods:p({},Object(c["b"])("auth",["logoutUser","fbGetMessages","fbStopGettingMessages"]),{},Object(c["b"])("storesettings",["setshow12HourFormat","setshowTaskInOneList"]),{removeToCart:function(t){this.$store.commit("storeservices/removeItemFromCart",t)},showMyCart:function(){var t=this,e=l["c"].auth().currentUser;e&&e.getIdTokenResult().then((function(s){var a=s.claims.admin;1==a?t.admin=!0:t.$binding("clientPreproposal",l["e"].collection("preproposals").where("id","==",e.uid)).then((function(t){console.log(t)})).catch((function(t){Object(o["a"])(t.message)}))}))}}),mounted:function(){}},d=u,b=(s("1597"),s("2877")),v=Object(b["a"])(d,a,i,!1,null,"3a802fb3",null);e["default"]=v.exports}}]);