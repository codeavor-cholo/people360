(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["d7f0ed80"],{"3c88":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{},[i("div",{},[i("q-table",{attrs:{filter:t.filter,title:"Certificate Builder Table",color:"primary",data:t.certificates,columns:t.columns,"row-key":"id"},scopedSlots:t._u([{key:"top-right",fn:function(){return[i("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[i("q-tr",{attrs:{props:e}},[i("q-td",{key:"director",attrs:{props:e}},[t._v(t._s(e.row.director))]),i("q-td",{key:"logo",attrs:{props:e}},[i("q-img",{staticStyle:{width:"100px"},attrs:{avatar:"",src:e.row.logo}})],1),i("q-td",[i("q-btn",{attrs:{round:"",color:"primary",flat:"",dense:"",icon:"edit"},on:{click:function(i){return t.showEditCertModal(e.row)}}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[t._v("Edit")])],1)],1)],1)]}}])})],1)]),i("q-dialog",{model:{value:t.showEditCertificate,callback:function(e){t.showEditCertificate=e},expression:"showEditCertificate"}},[i("edit-certificate",{attrs:{certificate:t.certificate,id:t.id},on:{close:function(e){t.showEditCertificate=!1}}})],1)],1)},c=[],o=i("fc1b"),a={firestore:function(){return{certificates:o["e"].collection("certificates")}},data:function(){return{certificate:{},filter:"",id:"",showEditCertificate:!1,columns:[{name:"director",align:"left",label:"Director",sortable:!0,field:"director"},{name:"logo",align:"left",label:"Logo",sortable:!0,field:"type"},{align:"left",label:"Action"}]}},methods:{showEditCertModal:function(t){this.showEditCertificate=!0,this.certificate=t,console.log(t)}},components:{"edit-certificate":i("de14").default}},n=a,s=i("2877"),l=Object(s["a"])(n,r,c,!1,null,null,null);e["default"]=l.exports},c9b4:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{padding:""}},[i("certificate-table"),t.setAdmin?i("q-page-sticky",{staticClass:"all-pointer-events",attrs:{offset:[18,18]}},[i("q-fab",{attrs:{icon:"add",direction:"up",color:"primary"}},[i("q-fab-action",{attrs:{color:"primary",icon:"note_add"},on:{click:function(e){t.showAddCertificate=!0}}},[i("q-tooltip",{attrs:{"content-class":"bg-deep-orange"}},[t._v("Add Certificate")])],1)],1)],1):t._e(),i("q-dialog",{model:{value:t.showAddCertificate,callback:function(e){t.showAddCertificate=e},expression:"showAddCertificate"}},[i("add-certificate",{on:{close:function(e){t.showAddCertificate=!1}}})],1)],1)},c=[],o=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c47a")),a=i.n(o),n=i("2f62");i("fc1b");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={data:function(){return{showAddCertificate:!1}},components:{"certificate-table":i("3c88").default,"add-certificate":i("e7a2").default},computed:l({},Object(n["d"])("auth",["loggedIn","userDetails","setAdmin"]))},d=f,u=i("2877"),p=Object(u["a"])(d,r,c,!1,null,null,null);e["default"]=p.exports},de14:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",{staticStyle:{width:"700px","max-width":"90vw"}},[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"text-h6"},[t._v("Edit Certificate Builder")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),i("q-form",{on:{submit:function(e){return e.preventDefault(),t.editCertificate(e)}}},[i("q-card-section",[i("q-input",{staticClass:"col-12",attrs:{type:"file"},on:{change:t.uploadLogo},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-circular-progress",{staticClass:"text-light-blue q-ma-md",attrs:{"show-value":"",value:t.value,size:"30px",color:"primary"}}),""!==t.certificate.logo?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.certificate.logo=""}}}):t._e()]},proxy:!0}]),model:{value:t.certificate.logo,callback:function(e){t.$set(t.certificate,"logo",e)},expression:"certificate.logo"}}),i("q-input",{ref:"name",staticClass:"col",attrs:{rules:[function(t){return!!t||"Field is required"}],label:"Director Signatory"},scopedSlots:t._u([{key:"append",fn:function(){return[t.certificate.director?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"}}):t._e()]},proxy:!0}]),model:{value:t.certificate.director,callback:function(e){t.$set(t.certificate,"director",e)},expression:"certificate.director"}})],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("q-btn",{attrs:{type:"submit",icon:"edit",label:"Edit Certificate",color:"primary"}})],1)],1)],1)},c=[],o=(i("7f7f"),i("2f62"),i("fc1b")),a={props:["certificate"],firestore:function(){return{certificates:o["e"].collection("certificates")}},data:function(){return{readytosubmit:!1,value:null}},methods:{uploadLogo:function(t){var e=this;if(t.target.files[0]){var i=t.target.files[0],r=o["c"].storage().ref("certificate/"+Math.random()+"_"+i.name),c=r.put(i);c.on("state_changed",(function(t){var i=t.bytesTransferred/t.totalBytes*100;e.value=i}),(function(t){}),(function(){c.snapshot.ref.getDownloadURL().then((function(t){console.log(t),e.certificate.logo=t,e.readytosubmit=!0}))}))}},editCertificate:function(){var t=this;console.log(this.certificate.director),this.$q.loading.show(),this.$firestore.certificates.doc(this.certificate.id).update(this.certificate).then((function(e){console.log(e),t.$q.loading.hide()})).catch((function(e){console.log(e),t.$q.loading.hide()})),this.$emit("close")}}},n=a,s=i("2877"),l=Object(s["a"])(n,r,c,!1,null,null,null);e["default"]=l.exports},e7a2:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",{staticStyle:{width:"700px","max-width":"90vw"}},[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"text-h6"},[t._v("Add Certificate Builder")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),i("q-form",{on:{submit:function(e){return e.preventDefault(),t.addCertificate(e)}}},[i("q-card-section",[i("q-input",{staticClass:"col-12",attrs:{type:"file"},on:{change:t.uploadLogo},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-circular-progress",{staticClass:"text-light-blue q-ma-md",attrs:{"show-value":"",value:t.value,size:"30px",color:"primary"}}),""!==t.certificate.logo?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.certificate.logo=""}}}):t._e()]},proxy:!0}]),model:{value:t.certificate.logo,callback:function(e){t.$set(t.certificate,"logo",e)},expression:"certificate.logo"}}),i("q-input",{ref:"name",staticClass:"col",attrs:{rules:[function(t){return!!t||"Field is required"}],label:"Director Signatory"},scopedSlots:t._u([{key:"append",fn:function(){return[t.certificate.director?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"}}):t._e()]},proxy:!0}]),model:{value:t.certificate.director,callback:function(e){t.$set(t.certificate,"director",e)},expression:"certificate.director"}})],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("q-btn",{attrs:{disable:!t.readytosubmit,type:"submit",icon:"add",label:"Add Certificate Builder",color:"primary"}})],1)],1)],1)},c=[],o=(i("7f7f"),i("2f62"),i("fc1b")),a={firestore:function(){return{certificates:o["e"].collection("certificates")}},data:function(){return{readytosubmit:!1,value:null,certificate:{logo:"",director:""}}},methods:{uploadLogo:function(t){var e=this;if(t.target.files[0]){var i=t.target.files[0],r=o["c"].storage().ref("certificate/"+Math.random()+"_"+i.name),c=r.put(i);c.on("state_changed",(function(t){var i=t.bytesTransferred/t.totalBytes*100;e.value=i}),(function(t){}),(function(){c.snapshot.ref.getDownloadURL().then((function(t){console.log(t),e.certificate.logo=t,e.readytosubmit=!0}))}))}},addCertificate:function(){var t=this;this.$q.loading.show(),this.certificate.id=o["c"].auth().currentUser.uid,this.$firestore.certificates.add(this.certificate).then((function(e){e?(console.log(e),t.$q.loading.hide()):(console.log(t.event),t.$q.loading.hide())})).catch((function(t){console.log(t)})),this.$emit("close")}}},n=a,s=i("2877"),l=Object(s["a"])(n,r,c,!1,null,null,null);e["default"]=l.exports}}]);